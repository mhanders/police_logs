<!DOCTYPE html>
<html>
  <head>
  	<style>
  		html, body {
  			height: 100%;
  		}
  		#map {
  			height: 100%;
  		}
  	</style>
  	<script src="https://maps.googleapis.com/maps/api/js"></script>
  	<script>
      function addMarker(map, latlng, title) {
        var marker = new google.maps.Marker({
            position: latlng,
            map: map,
            title: title
          });
      }

      function addMarkers(map) {
        {% for police_log in police_logs %}
          var latlng = new google.maps.LatLng({{police_log.lat}}, {{police_log.lng}});
          addMarker(map, latlng, "{{police_log.incident_type");
        {% endfor %}
      }

  		function initialize() {
  			var mapCanvas = document.getElementById('map');
  			var mapOptions = {
		      	center: new google.maps.LatLng(42.361994, -71.098813),
			    zoom: 14,
			    mapTypeId: google.maps.MapTypeId.ROADMAP
  			}
  			var map = new google.maps.Map(mapCanvas, mapOptions);

        addMarkers(map);
  		}
  		google.maps.event.addDomListener(window, 'load', initialize);
  	</script>
  </head>
  <body>
  	<div id="map"></div>
  </body>
</html>